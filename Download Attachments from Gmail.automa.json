{"extVersion":"1.28.0","name":"Download Attachments from Gmail","icon":"riGlobalLine","table":[],"version":"1.28.0","drawflow":{"nodes":[{"computedPosition":{"x":56.15384615384613,"y":222.73076923076928,"z":1000},"data":{"disableBlock":false,"description":"","type":"manual","interval":60,"delay":5,"date":"","time":"00:00","url":"","shortcut":"","activeInInput":false,"isUrlRegex":false,"days":[],"contextMenuName":"","contextTypes":[],"parameters":[{"data":{"masks":[{"isRegex":false,"lazy":false,"mask":""}],"required":true,"unmaskValue":false,"useMask":false},"defaultValue":"https://mail.google.com/mail/u/0/","description":"URL for specific Gmail inbox","id":"P06u","name":"inbox_url","placeholder":"","type":"string"},{"data":{"masks":[{"isRegex":false,"lazy":false,"mask":""}],"required":true,"unmaskValue":false,"useMask":false},"defaultValue":"","description":"Query to search for specific emails","id":"oIOw","name":"search_query","placeholder":"from:kotak.com \"bank account statement\"","type":"string"}],"preferParamsInTab":false,"observeElement":{"selector":"","baseSelector":"","matchPattern":"","targetOptions":{"subtree":false,"childList":true,"attributes":false,"attributeFilter":[],"characterData":false},"baseElOptions":{"subtree":false,"childList":true,"attributes":false,"attributeFilter":[],"characterData":false}}},"dimensions":{"width":192,"height":72},"dragging":false,"events":{},"handleBounds":{"source":[{"id":"YqZ76QvBPB89WOoHN2pX0-output-1","position":"right","x":195.99999237060547,"y":28,"width":16,"height":16}]},"id":"YqZ76QvBPB89WOoHN2pX0","initialized":true,"label":"trigger","position":{"x":56.15384615384613,"y":222.73076923076928},"resizing":false,"selected":true,"type":"BlockBasic"},{"computedPosition":{"x":407.716923076923,"y":276.2523076923077,"z":0},"data":{"assignVariable":false,"clearValue":true,"dataColumn":"","delay":"30","description":"Input query","disableBlock":false,"events":[],"findBy":"cssSelector","getValue":false,"markEl":false,"multiple":false,"optionPosition":"1","saveData":false,"selectOptionBy":"value","selected":true,"selector":"input[aria-label=\"Search in emails\"]","type":"text-field","value":"{{variables.search_query}}","variableName":"","waitForSelector":true,"waitSelectorTimeout":5000},"dimensions":{"width":192,"height":72},"dragging":false,"events":{},"handleBounds":{"source":[{"id":"3d30l5q-output-1","position":"right","x":196,"y":28,"width":16,"height":16}],"target":[{"id":"3d30l5q-input-1","position":"left","x":-20,"y":28,"width":16,"height":16}]},"id":"3d30l5q","initialized":true,"label":"forms","position":{"x":407.716923076923,"y":276.2523076923077},"resizing":false,"selected":false,"type":"BlockBasic"},{"computedPosition":{"x":232.25846153846146,"y":476.9661538461538,"z":0},"data":{"description":"Click Search","disableBlock":false,"findBy":"cssSelector","markEl":false,"multiple":false,"selector":"button[aria-label=\"Search in emails\"]","waitForSelector":false,"waitSelectorTimeout":5000},"dimensions":{"width":192,"height":72},"dragging":false,"events":{},"handleBounds":{"source":[{"id":"e8ukrtv-output-1","position":"right","x":196,"y":28,"width":16,"height":16}],"target":[{"id":"e8ukrtv-input-1","position":"left","x":-20,"y":28,"width":16,"height":16}]},"id":"e8ukrtv","initialized":true,"label":"event-click","position":{"x":232.25846153846146,"y":476.9661538461538},"resizing":false,"selected":false,"type":"BlockBasic"},{"computedPosition":{"x":192.38153846153847,"y":823.8953846153844,"z":0},"data":{"actionElMaxWaitTime":7,"actionElSelector":"div[role=\"main\"] div[data-tooltip=\"Older\"]","actionPageMaxWaitTime":10,"description":"Loop Emails","disableBlock":false,"findBy":"cssSelector","loadMoreAction":"click-element","loopId":"allEmails","maxLoop":"0","reverseLoop":false,"scrollToBottom":true,"selector":"div[role=\"main\"] tr.zA","waitForSelector":true,"waitSelectorTimeout":5000},"dimensions":{"width":192,"height":76},"dragging":false,"events":{},"handleBounds":{"source":[{"id":"ydoyadp-output-1","position":"right","x":196,"y":30,"width":16,"height":16}],"target":[{"id":"ydoyadp-input-1","position":"left","x":-19.999984741210938,"y":30,"width":16,"height":16}]},"id":"ydoyadp","initialized":true,"label":"loop-elements","position":{"x":192.38153846153847,"y":823.8953846153844},"resizing":false,"selected":false,"type":"BlockBasic"},{"computedPosition":{"x":2482,"y":125.5,"z":0},"data":{"clearLoop":false,"disableBlock":false,"loopId":"dateLoop"},"dimensions":{"width":192,"height":151},"dragging":false,"events":{},"handleBounds":{"source":[{"id":"j8fyosj-output-1","position":"right","x":196,"y":67.59375,"width":16,"height":16}],"target":[{"id":"j8fyosj-input-1","position":"left","x":-20,"y":67.59375,"width":16,"height":16}]},"id":"j8fyosj","initialized":true,"label":"loop-breakpoint","position":{"x":2482,"y":125.5,"z":0},"resizing":false,"selected":false,"type":"BlockLoopBreakpoint"},{"computedPosition":{"x":2482,"y":125.5,"z":0},"data":{"clearLoop":false,"disableBlock":false,"loopId":"dateLoop"},"dimensions":{"width":192,"height":151},"dragging":false,"events":{},"handleBounds":{"source":[{"id":"971hw8l-output-1","position":"right","x":196,"y":67.59375,"width":16,"height":16}],"target":[{"id":"971hw8l-input-1","position":"left","x":-20,"y":67.59375,"width":16,"height":16}]},"id":"971hw8l","initialized":true,"label":"loop-breakpoint","position":{"x":2482,"y":125.5,"z":0},"resizing":false,"selected":false,"type":"BlockLoopBreakpoint"},{"computedPosition":{"x":1190.13177951557,"y":1175.3130223879275,"z":0},"data":{"clearLoop":false,"disableBlock":false,"loopId":"allEmails"},"dimensions":{"width":192,"height":151},"dragging":false,"events":{},"handleBounds":{"source":[{"id":"jy4qdao-output-1","position":"right","x":196,"y":67.59375,"width":16,"height":16}],"target":[{"id":"jy4qdao-input-1","position":"left","x":-20,"y":67.59375,"width":16,"height":16}]},"id":"jy4qdao","initialized":true,"label":"loop-breakpoint","position":{"x":1190.13177951557,"y":1175.3130223879275},"resizing":false,"selected":false,"type":"BlockLoopBreakpoint"},{"computedPosition":{"x":492.98220625448164,"y":758.6497663393283,"z":0},"data":{"description":"Open email","disableBlock":false,"findBy":"cssSelector","markEl":false,"multiple":false,"selector":"{{loopData@allEmails}}","waitForSelector":true,"waitSelectorTimeout":5000},"dimensions":{"width":192,"height":72},"dragging":false,"events":{},"handleBounds":{"source":[{"id":"tss0gk4-output-1","position":"right","x":196,"y":28,"width":16,"height":16}],"target":[{"id":"tss0gk4-input-1","position":"left","x":-20,"y":28,"width":16,"height":16}]},"id":"tss0gk4","initialized":true,"label":"event-click","position":{"x":492.98220625448164,"y":758.6497663393283},"resizing":false,"selected":false,"type":"BlockBasic"},{"computedPosition":{"x":676.2008017694944,"y":520.5452326924722,"z":0},"data":{"disableBlock":false,"time":"500"},"dimensions":{"width":192,"height":117},"dragging":false,"events":{},"handleBounds":{"source":[{"id":"djawkn4-output-1","position":"right","x":196,"y":50.59375,"width":16,"height":16}],"target":[{"id":"djawkn4-input-1","position":"left","x":-20,"y":50.59375,"width":16,"height":16}]},"id":"djawkn4","initialized":true,"label":"delay","position":{"x":676.2008017694944,"y":520.5452326924722},"resizing":false,"selected":false,"type":"BlockDelay"},{"computedPosition":{"x":1240.1707648669633,"y":1041.073753844167,"z":0},"data":{"description":"Go back","disableBlock":false,"findBy":"cssSelector","markEl":false,"multiple":false,"selector":"div[data-tooltip=\"Back to Search Results\"]>.asa, div[title=\"Back to Search Results\"] > .asa","waitForSelector":true,"waitSelectorTimeout":5000},"dimensions":{"width":192,"height":72},"dragging":false,"events":{},"handleBounds":{"source":[{"id":"25w8jr1-output-1","position":"right","x":196,"y":28,"width":16,"height":16}],"target":[{"id":"25w8jr1-input-1","position":"left","x":-20,"y":28,"width":16,"height":16}]},"id":"25w8jr1","initialized":true,"label":"event-click","position":{"x":1240.1707648669633,"y":1041.073753844167},"resizing":false,"selected":false,"type":"BlockBasic"},{"computedPosition":{"x":428.13178414246875,"y":915.0964990285111,"z":0},"data":{"disableBlock":false,"time":"500"},"dimensions":{"width":192,"height":117},"dragging":false,"events":{},"handleBounds":{"source":[{"id":"9hgwbwy-output-1","position":"right","x":196,"y":50.59375,"width":16,"height":16}],"target":[{"id":"9hgwbwy-input-1","position":"left","x":-20,"y":50.59375,"width":16,"height":16}]},"id":"9hgwbwy","initialized":true,"label":"delay","position":{"x":428.13178414246875,"y":915.0964990285111},"resizing":false,"selected":false,"type":"BlockDelay"},{"computedPosition":{"x":-98.07728315124336,"y":671.811642303416,"z":0},"data":{"description":"","disableBlock":false,"findBy":"cssSelector","markEl":false,"selector":"div[aria-label=\"search refinement\"]","throwError":true,"timeout":1000,"tryCount":5},"dimensions":{"width":195,"height":145},"dragging":false,"events":{},"handleBounds":{"source":[{"id":"zivdhlc-output-1","position":"right","x":199,"y":64.59375,"width":16,"height":16},{"id":"zivdhlc-output-2","position":"right","x":199,"y":109.1875,"width":16,"height":16}],"target":[{"id":"zivdhlc-input-1","position":"left","x":-20,"y":64.59375,"width":16,"height":16}]},"id":"zivdhlc","initialized":true,"label":"element-exists","position":{"x":-98.07728315124336,"y":671.811642303416},"resizing":false,"selected":false,"type":"BlockElementExists"},{"computedPosition":{"x":1162.684741761935,"y":463.49805145810956,"z":0},"data":{"description":"preview attachment","disableBlock":false,"findBy":"cssSelector","markEl":false,"multiple":false,"selector":"span[download_url]>a","waitForSelector":true,"waitSelectorTimeout":5000},"dimensions":{"width":192,"height":72},"dragging":false,"events":{},"handleBounds":{"source":[{"id":"98v3990-output-1","position":"right","x":196,"y":28,"width":16,"height":16}],"target":[{"id":"98v3990-input-1","position":"left","x":-20,"y":28,"width":16,"height":16}]},"id":"98v3990","initialized":true,"label":"event-click","position":{"x":1162.684741761935,"y":463.49805145810956},"resizing":false,"selected":false,"type":"BlockBasic"},{"computedPosition":{"x":1534.2810932693708,"y":543.1248090926237,"z":0},"data":{"description":"Download attachment","disableBlock":false,"findBy":"cssSelector","markEl":false,"multiple":false,"selector":"div[aria-label=\"Showing viewer.\"] div[aria-label=\"Download\"]","waitForSelector":true,"waitSelectorTimeout":5000},"dimensions":{"width":192,"height":72},"dragging":false,"events":{},"handleBounds":{"source":[{"id":"s8zjw94-output-1","position":"right","x":196,"y":28,"width":16,"height":16}],"target":[{"id":"s8zjw94-input-1","position":"left","x":-20,"y":28,"width":16,"height":16}]},"id":"s8zjw94","initialized":true,"label":"event-click","position":{"x":1534.2810932693708,"y":543.1248090926237},"resizing":false,"selected":false,"type":"BlockBasic"},{"computedPosition":{"x":1493.1373485287893,"y":776.8375202708785,"z":0},"data":{"description":"Close viewer","disableBlock":false,"findBy":"cssSelector","markEl":false,"multiple":false,"selector":"div[aria-label=\"Showing viewer.\"] div[aria-label=\"Close\"]","waitForSelector":true,"waitSelectorTimeout":5000},"dimensions":{"width":192,"height":72},"dragging":false,"events":{},"handleBounds":{"source":[{"id":"w8ovkws-output-1","position":"right","x":196,"y":28,"width":16,"height":16}],"target":[{"id":"w8ovkws-input-1","position":"left","x":-20,"y":28,"width":16,"height":16}]},"id":"w8ovkws","initialized":true,"label":"event-click","position":{"x":1493.1373485287893,"y":776.8375202708785},"resizing":false,"selected":false,"type":"BlockBasic"},{"computedPosition":{"x":1344.600668324399,"y":664.1323601408119,"z":0},"data":{"assignVariable":false,"dataColumn":"","description":"","disableBlock":false,"downloadId":"","filename":"","onConflict":"uniquify","saveData":true,"timeout":20000,"variableName":"","waitForDownload":true},"dimensions":{"width":192,"height":72},"dragging":false,"events":{},"handleBounds":{"source":[{"id":"hui081h-output-1","position":"right","x":196,"y":28,"width":16,"height":16}],"target":[{"id":"hui081h-input-1","position":"left","x":-20,"y":28,"width":16,"height":16}]},"id":"hui081h","initialized":true,"label":"handle-download","position":{"x":1344.600668324399,"y":664.1323601408119},"resizing":false,"selected":false,"type":"BlockBasic"},{"computedPosition":{"x":369.72809471963853,"y":170.39150674121316,"z":0},"data":{"active":true,"customUserAgent":false,"description":"Open Gmail","disableBlock":false,"inGroup":false,"updatePrevTab":false,"url":"{{variables.inbox_url}}","userAgent":"","waitTabLoaded":true},"dimensions":{"width":192,"height":72},"dragging":false,"events":{},"handleBounds":{"source":[{"id":"clitkol-output-1","position":"right","x":196,"y":28,"width":16,"height":16}],"target":[{"id":"clitkol-input-1","position":"left","x":-20,"y":28,"width":16,"height":16}]},"id":"clitkol","initialized":true,"label":"new-tab","position":{"x":369.72809471963853,"y":170.39150674121316},"resizing":false,"selected":false,"type":"BlockBasic"},{"computedPosition":{"x":1213.1891326156601,"y":320.3599316895543,"z":0},"data":{"description":"Click looks safe","disableBlock":false,"findBy":"xpath","markEl":false,"multiple":false,"selector":"//*/button[text()[contains(.,'Looks safe')]]","waitForSelector":false,"waitSelectorTimeout":5000},"dimensions":{"width":192,"height":72},"dragging":false,"events":{},"handleBounds":{"source":[{"id":"552tbx5-output-1","position":"right","x":196,"y":28,"width":16,"height":16}],"target":[{"id":"552tbx5-input-1","position":"left","x":-20,"y":28,"width":16,"height":16}]},"id":"552tbx5","initialized":true,"label":"event-click","position":{"x":1213.1891326156601,"y":320.3599316895543},"resizing":false,"selected":false,"type":"BlockBasic"},{"computedPosition":{"x":834.3286916610567,"y":313.395585348477,"z":0},"data":{"description":"Check if attachment is flagged","disableBlock":false,"findBy":"xpath","markEl":false,"selector":"//*/button[text()[contains(.,'Looks safe')]]","throwError":false,"timeout":500,"tryCount":1},"dimensions":{"width":195,"height":145},"dragging":false,"events":{},"handleBounds":{"source":[{"id":"s2div3t-output-1","position":"right","x":198.99993896484375,"y":64.59375,"width":16,"height":16},{"id":"s2div3t-output-2","position":"right","x":198.99993896484375,"y":109.1875,"width":16,"height":16}],"target":[{"id":"s2div3t-input-1","position":"left","x":-20,"y":64.59375,"width":16,"height":16}]},"id":"s2div3t","initialized":true,"label":"element-exists","position":{"x":834.3286916610567,"y":313.395585348477},"resizing":false,"selected":false,"type":"BlockElementExists"}],"edges":[{"id":"vueflow__edge-3d30l5q3d30l5q-output-1-e8ukrtve8ukrtv-input-1","data":{},"events":{},"markerEnd":"arrowclosed","selectable":true,"source":"3d30l5q","sourceHandle":"3d30l5q-output-1","target":"e8ukrtv","targetHandle":"e8ukrtv-input-1","type":"custom","updatable":true},{"id":"vueflow__edge-tss0gk4tss0gk4-output-1-djawkn4djawkn4-input-1","data":{},"events":{},"markerEnd":"arrowclosed","selectable":true,"source":"tss0gk4","sourceHandle":"tss0gk4-output-1","target":"djawkn4","targetHandle":"djawkn4-input-1","type":"custom","updatable":true},{"id":"vueflow__edge-25w8jr125w8jr1-output-1-jy4qdaojy4qdao-input-1","data":{},"events":{},"markerEnd":"arrowclosed","selectable":true,"selected":false,"source":"25w8jr1","sourceHandle":"25w8jr1-output-1","target":"jy4qdao","targetHandle":"jy4qdao-input-1","type":"custom","updatable":true},{"id":"vueflow__edge-ydoyadpydoyadp-output-1-9hgwbwy9hgwbwy-input-1","data":{},"events":{},"markerEnd":"arrowclosed","selectable":true,"source":"ydoyadp","sourceHandle":"ydoyadp-output-1","target":"9hgwbwy","targetHandle":"9hgwbwy-input-1","type":"custom","updatable":true},{"id":"vueflow__edge-9hgwbwy9hgwbwy-output-1-tss0gk4tss0gk4-input-1","data":{},"events":{},"markerEnd":"arrowclosed","selectable":true,"source":"9hgwbwy","sourceHandle":"9hgwbwy-output-1","target":"tss0gk4","targetHandle":"tss0gk4-input-1","type":"custom","updatable":true},{"id":"vueflow__edge-e8ukrtve8ukrtv-output-1-zivdhlczivdhlc-input-1","data":{},"events":{},"markerEnd":"arrowclosed","selectable":true,"source":"e8ukrtv","sourceHandle":"e8ukrtv-output-1","target":"zivdhlc","targetHandle":"zivdhlc-input-1","type":"custom","updatable":true},{"id":"vueflow__edge-98v399098v3990-output-1-s8zjw94s8zjw94-input-1","data":{},"events":{},"markerEnd":"arrowclosed","selectable":true,"source":"98v3990","sourceHandle":"98v3990-output-1","target":"s8zjw94","targetHandle":"s8zjw94-input-1","type":"custom","updatable":true},{"id":"vueflow__edge-s8zjw94s8zjw94-output-1-hui081hhui081h-input-1","data":{},"events":{},"markerEnd":"arrowclosed","selectable":true,"source":"s8zjw94","sourceHandle":"s8zjw94-output-1","target":"hui081h","targetHandle":"hui081h-input-1","type":"custom","updatable":true},{"id":"vueflow__edge-hui081hhui081h-output-1-w8ovkwsw8ovkws-input-1","data":{},"events":{},"markerEnd":"arrowclosed","selectable":true,"source":"hui081h","sourceHandle":"hui081h-output-1","target":"w8ovkws","targetHandle":"w8ovkws-input-1","type":"custom","updatable":true},{"id":"vueflow__edge-w8ovkwsw8ovkws-output-1-25w8jr125w8jr1-input-1","data":{},"events":{},"markerEnd":"arrowclosed","selectable":true,"source":"w8ovkws","sourceHandle":"w8ovkws-output-1","target":"25w8jr1","targetHandle":"25w8jr1-input-1","type":"custom","updatable":true},{"id":"vueflow__edge-YqZ76QvBPB89WOoHN2pX0YqZ76QvBPB89WOoHN2pX0-output-1-clitkolclitkol-input-1","data":{},"events":{},"markerEnd":"arrowclosed","selectable":true,"source":"YqZ76QvBPB89WOoHN2pX0","sourceHandle":"YqZ76QvBPB89WOoHN2pX0-output-1","target":"clitkol","targetHandle":"clitkol-input-1","type":"custom","updatable":true,"class":"connected-edges"},{"id":"vueflow__edge-clitkolclitkol-output-1-3d30l5q3d30l5q-input-1","data":{},"events":{},"markerEnd":"arrowclosed","selectable":true,"source":"clitkol","sourceHandle":"clitkol-output-1","target":"3d30l5q","targetHandle":"3d30l5q-input-1","type":"custom","updatable":true},{"id":"vueflow__edge-s2div3ts2div3t-output-1-552tbx5552tbx5-input-1","data":{},"events":{},"markerEnd":"arrowclosed","selectable":true,"source":"s2div3t","sourceHandle":"s2div3t-output-1","target":"552tbx5","targetHandle":"552tbx5-input-1","type":"custom","updatable":true},{"id":"vueflow__edge-s2div3ts2div3t-output-2-98v399098v3990-input-1","data":{},"events":{},"markerEnd":"arrowclosed","selectable":true,"source":"s2div3t","sourceHandle":"s2div3t-output-2","target":"98v3990","targetHandle":"98v3990-input-1","type":"custom","updatable":true},{"id":"vueflow__edge-djawkn4djawkn4-output-1-s2div3ts2div3t-input-1","data":{},"events":{},"markerEnd":"arrowclosed","selectable":true,"source":"djawkn4","sourceHandle":"djawkn4-output-1","target":"s2div3t","targetHandle":"s2div3t-input-1","type":"custom","updatable":true},{"id":"vueflow__edge-552tbx5552tbx5-output-1-98v399098v3990-input-1","data":{},"events":{},"markerEnd":"arrowclosed","selectable":true,"source":"552tbx5","sourceHandle":"552tbx5-output-1","target":"98v3990","targetHandle":"98v3990-input-1","type":"custom","updatable":true},{"id":"vueflow__edge-zivdhlczivdhlc-output-1-ydoyadpydoyadp-input-1","class":"source-zivdhlc-output-1 target-ydoyadp-input-1","data":{},"events":{},"markerEnd":"arrowclosed","selectable":true,"source":"zivdhlc","sourceHandle":"zivdhlc-output-1","target":"ydoyadp","targetHandle":"ydoyadp-input-1","type":"custom","updatable":true}],"position":[-87.99999999999994,17],"zoom":0.7179424679828005},"settings":{"blockDelay":0,"debugMode":false,"defaultColumnName":"column","execContext":"popup","executedBlockOnWeb":false,"inputAutocomplete":true,"insertDefaultColumn":false,"notification":true,"onError":"stop-workflow","publicId":"","restartTimes":3,"reuseLastState":false,"saveLog":true},"globalData":"{\n\t\"key\": \"value\"\n}","description":"Given a search query, download first attachment from all the result emails.","includedWorkflows":{}}